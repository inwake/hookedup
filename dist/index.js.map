{"version":3,"file":"index.js","sources":["../src/hooks/usePrevious.tsx","../src/hooks/usePlatform.tsx","../src/hooks/useAppVisibility.tsx","../src/hooks/useDimensions.tsx","../src/hooks/useCurrentScreen.tsx","../src/hooks/usePosition.tsx","../src/hooks/useFirebase.jsx","../src/hooks/useFirebaseAnalytics.jsx","../src/hooks/useFirebaseAuth.jsx"],"sourcesContent":["import {useRef, useEffect} from 'react'\n\nexport default function usePrevious(value) {\n  const ref = useRef(null)\n  useEffect(function() {\n    ref.current = value})\n  return ref.current\n}\n","import {Platform, Dimensions} from 'react-native'\n\nexport default function usePlatform() {\n  const {width=9, height=16} = Dimensions.get('window')\n  const aspectRatio = width / height\n\n  const android = Platform.OS === 'android'\n  const ios = Platform.OS === 'ios'\n  const web = Platform.OS === 'web'\n\n  const mobile = android || ios\n  const desktopWeb = web && aspectRatio && aspectRatio > 1\n  const platformMap = {android, ios, web, desktopWeb}\n\n  const platform = Object\n    .keys(platformMap)\n    .find(Boolean)\n\n  return {platform,\n    isAndroid: android,\n    isIos: ios,\n    isMobile: mobile,\n    isWeb: web,\n    isDesktopWeb: desktopWeb}\n}\n","import {useState, useEffect, useRef} from 'react'\nimport {AppState} from 'react-native'\n\nexport default function useAppVisibility() {\n  const appState = useRef(AppState.currentState)\n  const activeState = appState.current\n  const [foreground, setForeground] = useState(false)\n  const [background, setBackground] = useState(false)\n  const isActive = activeState === 'active'\n\n  useEffect(function() {\n    setBackground(false)\n    setForeground(true)\n  }, [])\n\n  useEffect(function() {\n    const subscription = AppState\n      .addEventListener('change', onChange)\n\n    function onChange(nextAppState) {\n      appState.current = nextAppState\n\n      const nextActive = nextAppState === 'active'\n      const nextInactive = nextAppState === 'inactive'\n      setForeground(nextActive)\n      setBackground(nextInactive)}\n    return function() {\n      subscription?.remove()}\n  })\n\n  return {activeState,\n    isActive,\n    foreground,\n    background}\n}\n","import {useState, useEffect} from 'react'\nimport {Dimensions} from 'react-native'\nimport {useSafeAreaFrame} from 'react-native-safe-area-context'\n\nexport default function useDimensions({isWeb, isDesktopWeb}) {\n  const [dimensions, setDimensions] = useState(Dimensions.get('window'))\n  const safeAreaFrame = useSafeAreaFrame()\n\n  useEffect(() => {\n    updateDimensionsForPlatform()\n    const subscription = Dimensions\n      .addEventListener('change', updateDimensionsForPlatform)\n\n    function updateDimensionsForPlatform() {\n      const windowDimensions = Dimensions.get('window')\n      const {width, height} = isWeb || isDesktopWeb ?\n        windowDimensions : safeAreaFrame\n      const {scale, fontScale} = windowDimensions\n      setDimensions({width, height, scale, fontScale})}\n\n    return function() {subscription?.remove()}\n  }, [isWeb, isDesktopWeb, safeAreaFrame])\n\n  return dimensions\n}\n","import {useState, useEffect} from 'react'\nimport {Dimensions} from 'react-native'\n\nconst screens = [{size: 'sm', width: 480},\n  {size: 'md', width: 720},\n  {size: 'lg', width: 1080},\n  {size: 'xl', width: 1440}]\n\nexport default function useCurrentScreen() {\n  const [currentScreen, setCurrentScreen] = useState('md')\n  const dimensions = Dimensions.get('window')\n\n  useEffect(() => {\n    setCurrentScreen(screens\n      .find(function(screen) {\n        dimensions.width > screen.width\n      })?.size || 'xs')\n  }, [dimensions.width])\n\n  return currentScreen\n}\n","import {useState, useEffect} from 'react'\nimport Geolocation from '@react-native-community/geolocation'\n\ntype UsePositionProps = {\n  config?: Config\n  getOptions?: GetOptions\n  streamOptions?: StreamOptions\n  streamPosition?: boolean}\n\ntype Config = {\n  skipPermissionRequests: boolean\n  enableBackgroundLocationUpdates: boolean\n  authorizationLevel: 'whenInUse' | 'always' | 'auto'\n  locationProvider: 'playServices' | 'android' | 'auto'}\n\ntype GetOptions = {\n  enableHighAccuracy: boolean\n  timeout: number\n  maximumAge: number}\n\ntype StreamOptions = {\n  enableHighAccuracy: boolean\n  interval: number\n  fastestInterval: number\n  timeout: number\n  maximumAge: number\n  distanceFilter: number}\n\ninterface Position {\n  latitude: number\n  longitude: number\n  accuracy: number\n  altitude: number\n  altitudeAccuracy: number\n  timestamp: number}\n\ninterface Motion {\n  speed: number\n  heading: number}\n\ntype PositionError = {\n  message: string\n  status: string\n  code: number}\n\nconst defaultCconfig: Config = {skipPermissionRequests: false,\n  enableBackgroundLocationUpdates: false,\n  authorizationLevel: 'whenInUse',\n  locationProvider: 'auto'}\n\nconst defaultGetOptions = {enableHighAccuracy: true,\n  timeout: 10000, maximumAge: 10000}\n\nconst defaultStreamOptions = {enableHighAccuracy: true,\n  interval: 2500, fastestInterval: 1000,\n  timeout: 10000, maximumAge: 10000,\n  distanceFilter: 25}\n\nexport default function usePosition(\n  {streamPosition=false,\n    config: customConfig = defaultCconfig,\n    getOptions: customGetOptions = defaultGetOptions,\n    streamOptions: customStreamOptions = defaultStreamOptions}\n      : UsePositionProps = {}) {\n\n  const config = {...defaultCconfig,\n    ...customConfig}\n  const getOptions = {...defaultGetOptions,\n    ...customGetOptions}\n  const streamOptions = {...defaultStreamOptions,\n    ...customStreamOptions}\n\n  const [position, setPosition] = useState<Position | null>(null)\n  const [motion, setMotion] = useState<Motion | null>(null)\n  const [error, setError] = useState<PositionError>()\n  const [ready, setReady] = useState(false)\n\n  useEffect(function() {\n    Geolocation.setRNConfiguration(config)\n  }, [])\n\n  useEffect(function() {\n    const id = setupPositionStream()\n\n    function setupPositionStream() {\n      if (!streamPosition) return false\n      else return Geolocation\n        .watchPosition(onPositionUpdate,\n          onUpdateError, streamOptions)}\n\n    function cleanUpPositionStream(id) {\n      if (id) Geolocation.clearWatch(id)}\n\n    return function() {cleanUpPositionStream(id)}\n  }, [streamPosition, streamOptions])\n\n  function onPositionUpdate(data): Position {\n    const {coords, timestamp} = data\n    const motionData = {speed: coords.speed,\n      heading: coords.heading}\n    const positionData =\n      {latitude: coords.latitude,\n        longitude: coords.longitude,\n        accuracy: coords.accuracy,\n        altitude: coords.altitude,\n        altitudeAccuracy: coords\n          .altitudeAccuracy,\n        timestamp: timestamp}\n    setPosition(positionData)\n    setMotion(motionData)\n    setReady(true)\n\n    return positionData}\n\n  function onUpdateError({code, message, ...rest}): PositionError {\n    const errKeys = ['PERMISSION_DENIED', 'POSITION_UNAVAILABLE', 'TIMEOUT']\n\n    const status = Object.keys(rest)\n      .find(function(key) {\n        const isErr = rest[key]\n        return Boolean(Number(isErr))\n          && errKeys.includes(key as string)})\n      || 'UNKNOWN_ERROR'\n\n    const nextError: PositionError\n      = {status, message, code}\n\n    if (nextError) {\n      setError(nextError)\n      setReady(true)\n      return nextError}\n\n    throw new Error('Error object is undefined')\n  }\n\n  function getPosition(): Promise<Position> {\n    return new Promise(function(resolve, reject) {\n      function success(positionData) {\n        const resolvedData = onPositionUpdate(positionData)\n        resolve(resolvedData)}\n\n      function failure(error) {\n        onUpdateError(error)\n        reject(error)}\n\n      Geolocation\n        .getCurrentPosition(success,\n          failure, getOptions)\n    })\n  }\n\n  return {position, motion,\n    error, ready,\n    getPosition}\n}\n","import firebase from '@react-native-firebase/app'\nimport {useEffect, useState} from 'react'\nimport env from 'react-native-config'\n\n\nconst config = {apiKey: env.API_KEY,\n  authDomain: env.AUTH_DOMAIN,\n  databaseURL: env.DATABASE_URL,\n  projectId: env.PROJECT_ID,\n  storageBucket: env.STORAGE_BUCKET,\n  messagingSenderId: env.MESSAGING_SENDER_ID,\n  appId: env.APP_ID}\n\nexport default function useFirebase() {\n  const [ready, setReady] = useState(false)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    if (firebase.apps.length) {\n      setReady(true)\n      return}\n\n    firebase.initializeApp(config)\n      .then(function() {\n        setReady(true)})\n      .catch(function(error) {\n        setError(error)})\n  }, [])\n\n  return {firebase,\n    firebaseReady: ready,\n    error}\n}\n","import {useState, useEffect} from 'react'\n\n\nexport default function useFirebaseAnalytics({enabled=false,\n  firebase,\n  firebaseReady,\n  routerLocation,\n  pathToPageName}) {\n  const [analyticsReady, setAnalyticsReady] = useState(false)\n  const [error, setError] = useState(null)\n\n  useEffect(function() {\n    if (!firebaseReady) return undefined\n\n    firebase.analytics()\n      .setAnalyticsCollectionEnabled(Boolean(enabled))\n        .then(function() {\n          setAnalyticsReady(true)})\n        .catch(function(error) {\n          if (enabled) setError({message: 'Failed to enable analytics', error})\n          else setError({message: 'Failed to disable analytics', error})})\n  }, [enabled, firebase, firebaseReady])\n\n  useEffect(function() {\n    const path = routerLocation?.pathname\n    if (![enabled, firebaseReady, analyticsReady, path]\n      .every(Boolean)) return\n\n    let pageName = path\n    if (pathToPageName) pageName = pathToPageName(path)\n\n    analyticsPageView(pageName, path)\n  }, [enabled, analyticsReady, routerLocation, pathToPageName])\n\n  function analyticsPageView(pageName, path) {\n    if (!enabled)\n      return setError({message: 'Analytics disabled'})\n    if (!analyticsReady)\n      return setError({message: 'Analytics not initialized'})\n    firebase.analytics()\n      .logScreenView({screen_name: pageName,\n        screen_class: path})\n  }\n\n  function analyticsEvent(name, value) {\n    if (!enabled)\n      return setError({message: 'Analytics disabled'})\n    if (!analyticsReady)\n      return setError({message: 'Analytics not initialized'})\n    if (![name, value].every(Boolean))\n      return setError({message: 'Event name and value required'})\n\n    firebase.analytics()\n      .logEvent(name, value)\n  }\n\n  return {analyticsPageView,\n    analyticsEvent,\n    error}\n}\n","import {useState, useEffect} from 'react'\nimport auth from '@react-native-firebase/auth'\n\n\nexport default function useFirebaseAuth({firebaseReady}) {\n  const [additionalUserInfo, setAdditionalUserInfo] = useState(null)\n  const [user, setUser] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [ready, setReady] = useState(false)\n\n  function onAuthStateChanged(newUser) {\n    setUser(newUser)\n    setReady(true)\n    setLoading(false)}\n\n  useEffect(function() {\n    if (!firebaseReady) return undefined\n\n    setLoading(true)\n    return auth()\n      .onAuthStateChanged(onAuthStateChanged)\n  }, [firebaseReady])\n\n  function signInWithEmailAndPassword(email, password) {\n    if (!firebaseReady)\n      return setError({message: 'Firebase not ready'})\n\n    setLoading(true)\n    return auth()\n      .signInWithEmailAndPassword(email, password)\n        .then(function({user, additionalUserInfo}) {\n          setAdditionalUserInfo(additionalUserInfo)\n          setUser(user)\n          setLoading(false)\n          setReady(true)})\n        .catch(function(error) {\n          setError({message: 'Unsuccessful sign in', error})})\n  }\n\n  function signUpWithEmailAndPassword(email, password) {\n    if (!firebaseReady)\n      return setError({message: 'Firebase not ready'})\n\n    const errorMap = {'auth/email-already-in-use': 'Email already in use',\n      'auth/invalid-email': 'Email is invalid'}\n\n    setLoading(true)\n    return auth()\n      .createUserWithEmailAndPassword(email, password)\n        .then(function({user, additionalUserInfo}) {\n          setAdditionalUserInfo(additionalUserInfo)\n          setUser(user)\n          setLoading(false)\n          setReady(true)})\n        .catch(function(error) {\n          setLoading(false)\n          setError({message: errorMap[error.code]\n            || 'Unsuccessful sign up', error})})\n  }\n\n  // https://cloud.google.com/identity-platform/docs/admin/email-enumeration-protection#security_recommendations\n  function findUserByEmail(email) {\n    if (!firebaseReady)\n      return setError({message: 'Firebase not ready'})\n\n    return new Promise(function(resolve, reject) {\n      setLoading(true)\n      auth()\n      .fetchSignInMethodsForEmail(email)\n        .then(function(authProviders) {\n          resolve(authProviders)})\n        .catch(function(error) {\n          setError({message: 'Unsuccessful sign in', error})\n          reject(error)})})\n  }\n\n  return {auth, user,\n    additionalUserInfo,\n    loading, error, userReady: ready,\n    signInWithEmailAndPassword,\n    signUpWithEmailAndPassword,\n    findUserByEmail}\n}\n"],"names":["usePrevious","value","ref","useRef","useEffect","current","usePlatform","_a","Dimensions","get","_b","_c","aspectRatio","android","Platform","OS","ios","web","mobile","desktopWeb","platform","Object","keys","find","Boolean","isAndroid","isIos","isMobile","isWeb","isDesktopWeb","useAppVisibility","appState","AppState","currentState","activeState","useState","foreground","setForeground","background","setBackground","isActive","subscription","addEventListener","nextAppState","nextInactive","remove","useDimensions","dimensions","setDimensions","safeAreaFrame","useSafeAreaFrame","updateDimensionsForPlatform","windowDimensions","width","height","scale","fontScale","screens","size","useCurrentScreen","currentScreen","setCurrentScreen","screen","defaultCconfig","skipPermissionRequests","enableBackgroundLocationUpdates","authorizationLevel","locationProvider","defaultGetOptions","enableHighAccuracy","timeout","maximumAge","defaultStreamOptions","interval","fastestInterval","distanceFilter","usePosition","streamPosition","_d","customConfig","_e","customGetOptions","_f","customStreamOptions","config","getOptions","streamOptions","_g","position","setPosition","_h","motion","setMotion","_j","error","setError","_k","ready","setReady","onPositionUpdate","data","coords","timestamp","motionData","speed","heading","positionData","latitude","longitude","accuracy","altitude","altitudeAccuracy","onUpdateError","code","message","rest","errKeys","nextError","status","key","isErr","Number","includes","Geolocation","setRNConfiguration","id","watchPosition","clearWatch","getPosition","Promise","resolve","reject","getCurrentPosition","resolvedData","apiKey","env","API_KEY","authDomain","AUTH_DOMAIN","databaseURL","DATABASE_URL","projectId","PROJECT_ID","storageBucket","STORAGE_BUCKET","messagingSenderId","MESSAGING_SENDER_ID","appId","APP_ID","useFirebase","firebase","apps","length","initializeApp","then","catch","firebaseReady","useFirebaseAnalytics","enabled","routerLocation","pathToPageName","analyticsReady","setAnalyticsReady","analyticsPageView","pageName","path","analytics","logScreenView","screen_name","screen_class","setAnalyticsCollectionEnabled","pathname","every","let","analyticsEvent","name","logEvent","useFirebaseAuth","additionalUserInfo","setAdditionalUserInfo","user","setUser","loading","setLoading","onAuthStateChanged","newUser","auth","userReady","signInWithEmailAndPassword","email","password","signUpWithEmailAndPassword","errorMap","auth/email-already-in-use","auth/invalid-email","createUserWithEmailAndPassword","findUserByEmail","fetchSignInMethodsForEmail","authProviders"],"mappings":"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"}